# ==========================================
# 0. ДОМЕН И SSL
# ==========================================
# Ваш основной домен (без http/https)
DOMAIN_NAME=my-messenger-system.com

# Email для регистрации в Let's Encrypt (обязательно для HTTPS)
ACME_EMAIL=admin@my-messenger-system.com

# ==========================================
# 1. ОБЩИЕ НАСТРОЙКИ ИНФРАСТРУКТУРЫ
# ==========================================
NODE_ENV=production
TZ=Europe/Moscow

# Внешние порты (измените, если заняты на сервере)
PORT_CORE=3000
PORT_UI=80
PORT_WAHA_DASHBOARD=3001

# ==========================================
# 2. БАЗА ДАННЫХ (PostgreSQL)
# ==========================================
POSTGRES_USER=admin
POSTGRES_PASSWORD=super_secure_db_password
POSTGRES_DB=messenger_gateway
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ==========================================
# 3. ОЧЕРЕДИ (Redis)
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD= # Оставьте пустым, если не нужен, или задайте пароль

# ==========================================
# 4. CORE BACKEND (Ядро системы)
# ==========================================
# Секрет для генерации JWT токенов (сгенерируйте случайную строку)
JWT_SECRET=change_me_to_random_string_xyz123
JWT_EXPIRATION=7d

# Данные первого админа (создается при первом запуске)
ADMIN_DEFAULT_EMAIL=admin@company.com
ADMIN_DEFAULT_PASSWORD=admin

# Внутренние URL для связи Core с Адаптерами (обычно не меняются)
ADAPTER_WA_URL=http://adapter-wa:3000
ADAPTER_TG_URL=http://adapter-tg:3000
ADAPTER_MAKS_URL=http://adapter-maks:3000

# ==========================================
# 5. WHATSAPP ADAPTER (WAHA)
# ==========================================
# Образ: devlikeapro/waha (Core) или devlikeapro/waha-plus (Plus)
WAHA_IMAGE=devlikeapro/waha:latest
# Куда WAHA будет слать вебхуки (внутренний адрес Core)
WAHA_WEBHOOK_URL=http://core:3000/webhooks/wa

# ==========================================
# 6. TELEGRAM ADAPTER (Custom)
# ==========================================
# Получите на https://my.telegram.org (App configuration)
# Эти данные нужны для работы клиента Gram.js
TG_API_ID=12345678
TG_API_HASH=abcdef1234567890abcdef1234567890
# Куда TG слать вебхуки
TG_WEBHOOK_URL=http://core:3000/webhooks/tg

# ==========================================
# 7. МАКС ADAPTER
# ==========================================
# Адрес API сервера МАКС (внешний или внутри VPN)
MAKS_API_BASE_URL=https://api.maks-messenger.ru/v1
# Токен бота или сервисный токен МАКС
MAKS_SERVICE_TOKEN=your_maks_token_here
# Куда МАКС слать вебхуки
MAKS_WEBHOOK_URL=http://core:3000/webhooks/maks